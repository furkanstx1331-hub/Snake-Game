<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Snake Elite</title>
<style>
body{
margin:0;
background:#0b0f14;
display:flex;
flex-direction:column;
align-items:center;
font-family:Arial;
color:white;
}
h1{
color:#00f7ff;
text-shadow:0 0 15px #00f7ff;
}
canvas{
background:#000;
border:2px solid #00f7ff;
box-shadow:0 0 20px #00f7ff;
}
.info{
margin:10px;
display:flex;
gap:20px;
}
</style>
</head>
<body>

<h1>üêç Snake Elite</h1>
<div class="info">
<div>Skor: <span id="score">0</span></div>
<div>Level: <span id="level">1</span></div>
</div>
<canvas id="game" width="500" height="500"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

const size = 20;
const tiles = canvas.width / size;

let snake = [{x:10,y:10}];
let aiSnake = [{x:5,y:5}];

let dir = {x:1,y:0};
let nextDir = {x:1,y:0};

let food = spawnFood();
let score = 0;
let level = 1;
let speed = 8;

let lastTime = 0;
let paused = false;

function spawnFood(){
return {
x: Math.floor(Math.random()*tiles),
y: Math.floor(Math.random()*tiles)
};
}

document.addEventListener("keydown", e=>{
if(e.key==="ArrowUp" && dir.y!==1) nextDir={x:0,y:-1};
if(e.key==="ArrowDown" && dir.y!==-1) nextDir={x:0,y:1};
if(e.key==="ArrowLeft" && dir.x!==1) nextDir={x:-1,y:0};
if(e.key==="ArrowRight" && dir.x!==-1) nextDir={x:1,y:0};
if(e.key==="p") paused=!paused;
if(e.key==="r") reset();
});

function reset(){
snake=[{x:10,y:10}];
aiSnake=[{x:5,y:5}];
dir={x:1,y:0};
nextDir={x:1,y:0};
food=spawnFood();
score=0;
level=1;
speed=8;
}

function update(){
dir=nextDir;
const head = {x: snake[0].x+dir.x, y: snake[0].y+dir.y};

if(collision(head,snake) || outOfBounds(head)){
reset();
return;
}

snake.unshift(head);

if(head.x===food.x && head.y===food.y){
score++;
level=Math.floor(score/5)+1;
speed=8+level;
food=spawnFood();
}else{
snake.pop();
}

updateAI();
}

function updateAI(){
let head = {x: aiSnake[0].x, y: aiSnake[0].y};

if(head.x < food.x) head.x++;
else if(head.x > food.x) head.x--;
else if(head.y < food.y) head.y++;
else if(head.y > food.y) head.y--;

if(outOfBounds(head) || collision(head,aiSnake)) return;

aiSnake.unshift(head);
aiSnake.pop();
}

function collision(pos, body){
return body.some(s=>s.x===pos.x && s.y===pos.y);
}

function outOfBounds(pos){
return pos.x<0||pos.y<0||pos.x>=tiles||pos.y>=tiles;
}

function draw(){
ctx.fillStyle="#000";
ctx.fillRect(0,0,canvas.width,canvas.height);

ctx.shadowBlur=20;
ctx.shadowColor="#00f7ff";
ctx.fillStyle="#00f7ff";
snake.forEach(s=>{
ctx.fillRect(s.x*size,s.y*size,size,size);
});

ctx.shadowColor="#ff00ff";
ctx.fillStyle="#ff00ff";
aiSnake.forEach(s=>{
ctx.fillRect(s.x*size,s.y*size,size,size);
});

ctx.shadowBlur=15;
ctx.shadowColor="red";
ctx.fillStyle="red";
ctx.fillRect(food.x*size,food.y*size,size,size);

document.getElementById("score").innerText=score;
document.getElementById("level").innerText=level;
}

function gameLoop(timestamp){
if(!paused){
if(timestamp-lastTime > 1000/speed){
update();
lastTime=timestamp;
}
draw();
}
requestAnimationFrame(gameLoop);
}

requestAnimationFrame(gameLoop);
</script>

</body>
</html>


